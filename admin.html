<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/admin.css" />
    <link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet" />
    <title>Panel de Administración - Felipe Sneakers</title>
</head>
<body>
    <div class="admin-container">
        <!-- Login Screen -->
        <div class="login-screen" id="login-screen">
            <div class="login-container">
                <div class="login-header">
                    <h1><i class='bx bx-lock-alt'></i> Acceso Administrativo</h1>
                    <p>Felipe Sneakers - Panel de Control</p>
                </div>
                <form class="login-form" id="login-form">
                    <div class="form-group">
                        <label for="admin-password">Contraseña de Administrador</label>
                        <input type="password" id="admin-password" required placeholder="Ingresa la contraseña">
                    </div>
                    <button type="submit" class="btn btn-primary btn-large">
                        <i class='bx bx-log-in'></i> Acceder al Panel
                    </button>
                </form>
                <div class="login-footer">
                    <a href="index.html" class="back-link">
                        <i class='bx bx-arrow-back'></i> Volver a la Tienda
                    </a>
                </div>
            </div>
        </div>

        <!-- Admin Panel (hidden until login) -->
        <div class="admin-panel" id="admin-panel" style="display: none;">
            <!-- Header del Admin -->
            <header class="admin-header">
                <div class="admin-nav">
                    <a href="index.html" class="admin-logo">
                        <i class='bx bx-arrow-back'></i>
                        Volver a la Tienda
                    </a>
                    <h1>Panel de Administración</h1>
                    <div class="admin-actions">
                        <button class="btn btn-secondary" id="export-btn">
                            <i class='bx bx-download'></i> Exportar
                        </button>
                        <button class="btn btn-primary" id="save-btn">
                            <i class='bx bx-save'></i> Guardar Cambios
                        </button>
                        <button class="btn btn-danger" id="logout-btn">
                            <i class='bx bx-log-out'></i> Cerrar Sesión
                        </button>
                    </div>
                </div>
            </header>

            <main class="admin-main">
                <!-- Sección para agregar nuevo producto -->
                <section class="admin-section">
                    <h2><i class='bx bx-plus'></i> Agregar Nuevo Producto</h2>
                    <form class="product-form" id="product-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="product-name">Nombre del Producto</label>
                                <input type="text" id="product-name" required placeholder="Ej: Adidas Ultraboost 22">
                            </div>

                            <div class="form-group">
                                <label for="product-category">Categoría</label>
                                <select id="product-category" required>
                                    <option value="">Seleccionar categoría</option>
                                    <option value="destacados">Destacados</option>
                                    <option value="hombres">Hombres</option>
                                    <option value="mujeres">Mujeres</option>
                                    <option value="nike">Nike</option>
                                    <option value="adidas">Adidas</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="product-brand">Marca</label>
                                <select id="product-brand" required>
                                    <option value="">Seleccionar marca</option>
                                    <option value="nike">Nike</option>
                                    <option value="adidas">Adidas</option>
                                    <option value="otra">Otra</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="product-badge">Etiqueta</label>
                                <select id="product-badge" required>
                                    <option value="Nuevo">Nuevo</option>
                                    <option value="Oferta">Oferta</option>
                                    <option value="Popular">Popular</option>
                                    <option value="Limitado">Edición Limitada</option>
                                    <option value="Exclusivo">Exclusivo</option>
                                </select>
                            </div>

                            <div class="form-group full-width">
                                <label for="product-description">Descripción del Producto</label>
                                <textarea id="product-description" placeholder="Describe las características principales del producto..." rows="3"></textarea>
                                <small style="color: #64748b; font-size: 0.8rem;">Esta descripción se mostrará en el catálogo</small>
                            </div>

                            <div class="form-group">
                                <label for="product-sizes">Tallas Disponibles</label>
                                <input type="text" id="product-sizes" placeholder="Ej: 38, 39, 40, 41, 42" />
                                <small style="color: #64748b; font-size: 0.8rem;">Separa las tallas con comas</small>
                            </div>

                            <div class="form-group full-width">
                                <label for="product-message">Mensaje de WhatsApp</label>
                                <textarea id="product-message" required placeholder="Mensaje que se enviará por WhatsApp cuando alguien haga clic en consultar disponibilidad" rows="3"></textarea>
                                <small style="color: #64748b; font-size: 0.8rem;">Este mensaje se genera automáticamente al escribir el nombre del producto</small>
                            </div>

                            <div class="form-group full-width">
                                <label for="product-image">Imagen del Producto</label>
                                <div class="image-upload">
                                    <input type="file" id="product-image" accept="image/*" required>
                                    <label for="product-image" class="upload-btn">
                                        <i class='bx bx-cloud-upload'></i>
                                        <span>Seleccionar Imagen (Máx. 2MB)</span>
                                    </label>
                                    <div class="image-preview" id="image-preview">
                                        <span>Vista previa aparecerá aquí</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-success btn-large">
                            <i class='bx bx-plus'></i> Agregar Producto
                        </button>
                    </form>
                </section>

                <!-- Lista de productos existentes -->
                <section class="admin-section">
                    <h2><i class='bx bx-grid-alt'></i> Productos Existentes</h2>
                    <div class="products-grid" id="products-grid">
                        <!-- Los productos se cargan dinámicamente -->
                        <div class="empty-state full-width">
                            <i class='bx bx-package'></i>
                            <h3>No hay productos</h3>
                            <p>Agrega tu primer producto usando el formulario de arriba.</p>
                        </div>
                    </div>
                </section>

                <!-- Gestión del producto destacado en home -->
                <section class="admin-section">
                    <h2><i class='bx bx-home'></i> Producto Destacado en Inicio</h2>
                    <div class="featured-management">
                        <div class="form-group">
                            <label for="featured-product">Seleccionar Producto para la Portada</label>
                            <select id="featured-product">
                                <option value="">Seleccionar producto destacado</option>
                                <option value="" disabled>No hay productos en "Destacados"</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" id="update-featured-btn">
                            <i class='bx bx-star'></i> Actualizar Portada
                        </button>
                    </div>
                    <p style="color: #64748b; font-size: 0.9rem; margin-top: 1rem;">
                        <i class='bx bx-info-circle'></i> Solo los productos en la categoría "Destacados" aparecerán en esta lista.
                    </p>
                </section>
            </main>

            <!-- Notificaciones -->
            <div class="notification" id="notification">
                <span id="notification-message"></span>
                <button class="notification-close" id="notification-close">
                    <i class='bx bx-x'></i>
                </button>
            </div>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>
</html>